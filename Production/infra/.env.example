# =============================================================================
# .env.example — Production environment variables
# =============================================================================
# Copy this file to .env and fill in real values before running docker-compose.
#   cp .env.example .env
#
# NEVER commit .env to version control.
# All secrets and environment-specific values live here — no hardcoded values
# exist anywhere else in the Production/ folder.
# =============================================================================

# -----------------------------------------------------------------------------
# Kafka cluster
# -----------------------------------------------------------------------------
# Pre-generated cluster ID. Generate once with:
#   docker run --rm confluentinc/cp-kafka:7.7.7 kafka-storage random-uuid
KAFKA_CLUSTER_ID=MkU3OEVBNTcwNTJDRkFCMz

# JVM heap for each Kafka broker. Rule of thumb: 6 GB for production brokers
# that handle sustained 40 MB/s+ throughput. Lower (4 GB) is acceptable for
# lighter workloads.
KAFKA_HEAP_OPTS=-Xmx6g -Xms6g

# -----------------------------------------------------------------------------
# Kafka Connect
# -----------------------------------------------------------------------------
# JVM heap for the Connect worker. The benchmark showed GC pauses with the
# default 256 MB. 2 GB handles 4 concurrent connectors comfortably.
CONNECT_HEAP_OPTS=-Xmx2g -Xms2g

# -----------------------------------------------------------------------------
# SQL Server
# -----------------------------------------------------------------------------
# Must meet SQL Server password complexity rules:
#   >= 8 chars, uppercase, lowercase, digit, special char
MSSQL_SA_PASSWORD=YourStrong!Passw0rd

# Database and table to migrate
MSSQL_DATABASE=AdventureWorks2019
MSSQL_TABLE_INCLUDE=Sales.SalesOrderDetailBig

# topic.prefix for Debezium (Avro namespace: underscores only, no hyphens)
MSSQL_TOPIC_PREFIX=prod_mssql

# -----------------------------------------------------------------------------
# PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=ChangeMe!Postgres1
POSTGRES_DB=benchdb

# topic.prefix for Debezium (Avro namespace: underscores only, no hyphens)
PG_TOPIC_PREFIX=prod_pg

# Replication slot name — must be unique per connector deployment
PG_SLOT_NAME=debezium_prod

# Publication name — must exist in the DB before deploying the connector
PG_PUBLICATION_NAME=debezium_pub

# -----------------------------------------------------------------------------
# Schema Registry (Karapace)
# -----------------------------------------------------------------------------
# No auth by default. In production, configure mTLS or basic auth in karapace.
SCHEMA_REGISTRY_PORT=8081

# -----------------------------------------------------------------------------
# Ports exposed to the host (change if defaults conflict with existing services)
# -----------------------------------------------------------------------------
KAFKA_EXTERNAL_PORT=9092
KAFKA_BROKER2_EXTERNAL_PORT=9093
CONNECT_PORT=8083
SCHEMA_REGISTRY_EXTERNAL_PORT=8081
KAFKA_UI_PORT=8084
MSSQL_PORT=1433
POSTGRES_PORT=5432
